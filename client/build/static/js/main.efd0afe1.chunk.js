(this.webpackJsonpaiiwoe=this.webpackJsonpaiiwoe||[]).push([[0],{108:function(e,t,n){e.exports={"arrow-right":"ChatBox_arrow-right__2bSSk","arrow-left":"ChatBox_arrow-left__y7KiD"}},109:function(e,t,n){e.exports={circle:"ChatTable_circle__17_TH"}},123:function(e,t,n){},174:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/affogato.398ec518.png"},175:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/black.ec640ce9.png"},176:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/cafe.ddb7ac5b.png"},177:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/cap.b5e88f08.png"},178:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/decaf.7521de77.png"},179:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/espresso.1c8c2501.png"},180:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/latte.d99c1f52.png"},181:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/mocha.c1adc1f0.png"},182:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/rist.14fb25c5.png"},192:function(e,t,n){"use strict";n.r(t);var c,a=n(0),i=n.n(a),s=n(9),r=n.n(s),o=n(14),l=n(225),d=n(231),u=n(229),j=n(222),b=n(18),p=n(110),h=n(234),f=n(228),x=n(40),g=n(12),O=(n(123),n(224)),m=(n(124),n(52)),y=(new m.Rest("8ZlqBg.IDAVaA:2m8tkZT0rhHi58Mv"),new m.Realtime({key:"8ZlqBg.IDAVaA:2m8tkZT0rhHi58Mv",clientId:Math.random().toString()}),n(72)),w=n.n(y),v=w()("localhost:5000"),k=n(174),I=n(175),C=n(176),N=n(177),M=n(178),U=n(179),S=n(180),B=n(181),T=n(182),E={affogato:k,black:I,cafe:C,cap:N,decaf:M,espresso:U,latte:S,mocha:B,rist:T},D=[k,I,C,N,M,U,S,B,T].map((function(e){return e.name=e.default.match(/\/(\w+)\./)[1],e})),R=n(2),W=Object(j.a)((function(e){return{chatTable:{borderRadius:"50%",width:"200px",height:"200px",background:"red"},containerHeader:{color:"white",padding:"5px 15px"},cupImage:{width:"40px"}}})),_=function(e){var t=Object(g.g)(),n=W(),c=Object(a.useState)(),i=Object(o.a)(c,2),s=i[0],r=i[1],l=Object(a.useState)(),u=Object(o.a)(l,2),j=u[0],b=u[1];return Object(a.useEffect)((function(){var e=t.pathname.split("/")[2];console.log(undefined),v.emit("getUsers",e,(function(e){var t=e.reduce((function(e,t){return e[t.name]=t,e}),{});r(t)}))}),[j]),Object(a.useEffect)((function(){return v.on("selectUsers",(function(e,t,n){e.length>=2&&(console.log(500),console.log(t),b(t));var c=e.reduce((function(e,t){return e[t.name]=t,e}),{});r(c)})),v.on("leaveSelect",(function(e){console.log(e);var t=e.reduce((function(e,t){return e[t.name]=t,e}),{});r(t)})),function(){v.off("selectUsers"),v.off("join"),v.off("leave")}}),[]),Object(R.jsx)(d.a,{maxWidth:"600px",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:Object(R.jsxs)(d.a,{width:"100%",children:[Object(R.jsxs)(d.a,{bgcolor:"black",width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(R.jsx)(O.a,{variant:"caption",noWrap:!0,className:n.containerHeader,children:"Select an avatar"}),Object(R.jsxs)(O.a,{variant:"caption",noWrap:!0,className:n.containerHeader,children:["Users in Room : ",s?Object.keys(s).length:0]})]}),Object(R.jsx)(d.a,{padding:"15px 20px",alignItems:"center",bgcolor:"white",display:"flex",gridGap:"15px",overflow:"auto",children:D.map((function(t){return s&&s[t.name]?Object(R.jsx)("img",{style:{opacity:"60%",pointer:"none"},className:n.cupImage,src:t.default,alt:""},t.name):Object(R.jsx)("img",{onClick:function(){return e.selectUser(t)},className:n.cupImage,src:t.default,alt:""},t.name)}))})]})})},H=n(226),P=n(111),F=n(235),z=n(236),G=n(230),A=n(232),Z=n(108),q=n.n(Z),J=Object(j.a)((function(e){return{chatBox:{background:"rgba(255, 255, 255, 0.5)",height:"100%"},cup:{width:"40px",height:"40px",objectFit:"contain"},mainInput:{display:"flex",backgroundColor:"rgba(255, 255, 255, 0.5)","& .MuiInputBase-root":{}},sendButton:{"&.MuiButton-contained.Mui-disabled":{background:"rgba(255, 255, 255, 0.2)"}}}})),K=!0,V=function(e){var t=Object(b.a)(),n=Object(l.a)(t.breakpoints.up("sm")),i=Object(a.useState)(""),s=Object(o.a)(i,2),r=s[0],u=s[1],j=Object(a.useState)([]),p=Object(o.a)(j,2),h=p[0],f=p[1],x=J(),g=function(){v.emit("sendMsg",{text:r,room:e.room,socketid:v.id,currentUser:e.currentUser}),u("")};return Object(a.useEffect)((function(){v.on("sendMsg",(function(e){f((function(t){return[].concat(Object(P.a)(t),[e])}))}))}),[]),Object(R.jsxs)(d.a,{height:"100%",display:"flex",flexDirection:"column",width:"500px",alignItems:n?"space-between":"center",children:[Object(R.jsx)(d.a,{className:x.chatBox,width:"100%",position:"relative",height:"100%",children:Object(R.jsx)(d.a,{height:"100%",overflow:"auto",className:x.messageContainer,children:h.map((function(e,t){return Object(R.jsxs)(d.a,{gridGap:"5px",alignItems:"center",display:"flex",flexDirection:e.socketid===v.id?"row":"row-reverse",justifyContent:"start",className:e.socketid===v.id?x.messageOut:x.messageIn,padding:"5px 15px",children:[Object(R.jsx)("img",{className:x.cup,src:E[e.currentUser.name].default,alt:""}),Object(R.jsxs)(d.a,{position:"relative",padding:"5px 15px",bgcolor:e.socketid===v.id?"white":"#c06c48",children:[Object(R.jsx)("li",{children:e.text}),Object(R.jsx)("div",{className:q.a[e.socketid===v.id?"arrow-right":"arrow-left"]})]})]},t)}))})}),Object(R.jsxs)(d.a,{display:"flex",justifyContent:"space-between",width:"100%",children:[Object(R.jsxs)(F.a,{variant:"filled",fullWidth:!0,children:[Object(R.jsx)(z.a,{style:{paddingLeft:"20px"},htmlFor:"outlined-adornment-amount",children:"Type Here..."}),Object(R.jsx)(G.a,{onKeyUp:function(e){"Enter"===e.code&&g()},className:x.mainInput,value:r,variant:"filled",onChange:function(t){K&&v.emit("typing",e.room,v.id),K=!1,clearTimeout(c),c=setTimeout((function(){K=!0,v.emit("finished typing",e.room)}),1e3),u(t.target.value)},id:"outlined-adornment-amount"})]}),Object(R.jsx)(A.a,{className:x.sendButton,disabled:0===r.length,onClick:g,variant:"contained",children:"Send"})]})]})},L=n(29),Q=n(109),X=n.n(Q),Y=(Math.random().toString(),Object(j.a)((function(e){return{chatTable:{width:"400px",background:"rgba(80, 41, 0, 0.7)",borderRadius:"50%",position:"relative","&::before":{content:"''",display:"block",paddingBottom:"100%"}},typingBubble:Object(L.a)({},e.typingBubble)}}))),$=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],i=n[1],s=Object(b.a)(),r=Object(l.a)(s.breakpoints.up("sm")),u=[Math.PI/2,Math.PI/4,2*Math.PI,Math.PI/4*7,3*Math.PI/2,Math.PI/4*5,Math.PI/4*3,Math.PI],j=Object(a.useRef)(),p=Y(),h=Object(a.useRef)([]);function f(){i((function(){var t=j.current?parseInt(window.getComputedStyle(j.current).height.slice(0,-2)):0;h.current=[];for(var n=j.current.offsetWidth/2+40,c=h.current,a=0;a<e.users.length;a++){var i={style:{}};i.src=E[e.users[a].name].default,i.name=e.users[a].name,i.id=e.users[a].id,c.push(i),c[a].posx=Math.round(n*Math.cos(u[a]))+"px",c[a].posy=Math.round(n*Math.sin(u[a]))+"px",c[a].style.position="absolute",c[a].style.top=t/2-parseInt(c[a].posy.slice(0,-2))-20+"px",c[a].style.left=t/2+parseInt(c[a].posx.slice(0,-2))-20+"px"}return c}))}return Object(a.useEffect)((function(){f(),window.onresize=function(){f()}}),[e.users]),Object(R.jsx)(d.a,{paddingRight:"60px",children:Object(R.jsx)(d.a,{display:r?"flex":"none",justifyContent:"center",alignItems:"center",children:Object(R.jsx)(d.a,{ref:j,display:"flex",justifyContent:"center",className:p.chatTable,children:c.map((function(t){return Object(R.jsxs)(d.a,{style:Object(L.a)({},t.style),children:[Object(R.jsxs)(d.a,{display:e.typingUsers[t.id]?"flex":"none",className:p.typingBubble,children:[Object(R.jsx)("div",{}),Object(R.jsx)("div",{}),Object(R.jsx)("div",{})]}),Object(R.jsx)("img",{className:"".concat(X.a.circle),src:t.src,alt:""},t.name)]},t.id)}))})})})},ee=Object(j.a)((function(e){return{cup:{flexShrink:"0.5"},chatTable:{borderRadius:"50%",width:"200px",height:"200px",background:"red"},typingBubble:Object(L.a)({},e.typingBubble)}})),te=function(e){var t=Object(a.useState)(),n=Object(o.a)(t,2),c=(n[0],n[1],Object(b.a)()),s=Object(l.a)(c.breakpoints.up("sm"));Object(a.useEffect)((function(){}),[]);var r=ee();return Object(R.jsx)(d.a,{width:"100%",display:s?"none":"flex",gridGap:"15px",children:e.users.map((function(t){return Object(R.jsx)(i.a.Fragment,{children:Object(R.jsxs)(d.a,{width:"10%",display:"flex",position:"relative",flexDirection:"column",children:[Object(R.jsxs)(d.a,{display:e.typingUsers[t.id]&&t.id!==v.id?"flex":"none",className:r.typingBubble,children:[Object(R.jsx)("div",{}),Object(R.jsx)("div",{}),Object(R.jsx)("div",{})]}),Object(R.jsx)("img",{className:r.cup,src:E[t.name].default,alt:""})]})},t.data)}))})},ne=n(65),ce=function(e,t){var n=Object(a.useState)(),c=Object(o.a)(n,2),i=c[0],s=c[1],r=Object(a.useState)(),l=Object(o.a)(r,2),d=(l[0],l[1]),u=Object(a.useState)([]),j=Object(o.a)(u,2),b=j[0],p=j[1];return Object(a.useEffect)((function(){v.on("leave",(function(e,t,n){p(e)})),v.on("join",(function(e,t,n){p(e)})),v.emit("join",e.currentUser,t,(function(e,t){s((function(){return e})),d(t)}))}),[]),Object(a.useEffect)((function(){return function(){i&&v.emit("leave",i,t)}}),[i]),{users:b,room:i}},ae=function(e){var t=Object(a.useState)({}),n=Object(o.a)(t,2),c=n[0],i=n[1];return Object(a.useEffect)((function(){v.on("finished typing",(function(){i({})}))}),[]),Object(a.useEffect)((function(){v.on("typing",(function(e){i((function(t){return Object(L.a)(Object(L.a)({},t),{},Object(ne.a)({},e,!0))}))}))}),[]),{typing:c}},ie=Object(j.a)((function(e){return{chatTable:{borderRadius:"50%",width:"200px",height:"200px",background:"red"}}})),se=function(e){var t=ce(e,"group"),n=t.users,c=t.room,a=ae().typing,i=Object(b.a)(),s=Object(l.a)(i.breakpoints.up("sm"));ie();return Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(d.a,{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"30px 15px",children:Object(R.jsxs)(H.a,{style:{height:"100%"},spacing:1,container:!0,alignItems:"center",children:[Object(R.jsxs)(H.a,{xs:12,sm:6,item:!0,children:[Object(R.jsx)($,{typingUsers:a,clientId:e.clientId,users:n}),Object(R.jsx)(te,{typingUsers:a,users:n})]}),Object(R.jsx)(H.a,{container:!0,alignItems:s?"center":"flex-start",justifyContent:"center",style:{height:s?"80%":"100%"},xs:12,sm:6,item:!0,children:Object(R.jsx)(V,{room:c,clientId:e.clientId,currentUser:e.currentUser})})]})})})},re=n(227),oe=n.p+"static/media/logo.3b2d4623.png",le=Object(j.a)((function(e){return{buttonMain:{"& > *":{width:"100%",margin:e.spacing(1),backgroundColor:"rgb(186 167 156)"}},backDrop:{backgroundColor:"rgba(0,0,0,0.4)"},contentContainer:{zIndex:"2"},buttonHeader:{textTransform:"uppercase"},link:{width:"100%",textDecoration:"none",display:"block"},description:{fontSize:"2em"},logo:{maxWidth:"70%",width:"400px",height:"auto"}}})),de=function(e){Object(a.useEffect)((function(){e.clearUser()}),[]);var t=le();return Object(R.jsx)(re.a,{className:t.contentContainer,children:Object(R.jsxs)(d.a,{gridGap:"20px",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",color:"white",children:[Object(R.jsx)("img",{className:t.logo,src:oe,alt:""}),Object(R.jsx)(O.a,{align:"center",className:t.description,children:"Experience the complicated side of love, together."}),Object(R.jsxs)(d.a,{className:t.buttonContainer,children:[Object(R.jsx)(O.a,{className:t.buttonHeader,align:"center",children:"Match me with a:"}),Object(R.jsxs)(d.a,{className:t.buttonMain,children:[Object(R.jsx)(x.b,{to:"/chat/group",className:t.link,children:Object(R.jsx)(A.a,{onClick:function(){e.setChatType("group")},fullWidth:!0,variant:"contained",children:"Group"})}),Object(R.jsx)(x.b,{to:"/chat/individual",className:t.link,children:Object(R.jsx)(A.a,{fullWidth:!0,variant:"contained",children:"Individual"})})]})]})]})})},ue=n(233),je=Object(j.a)((function(e){return{cup:{width:"60px"},typingBubble:Object(L.a)({},e.typingBubble)}})),be=function(e){Object(a.useEffect)((function(){}),[]);var t=je();return console.log(t),console.log(e.users),Object(R.jsx)(d.a,{display:"flex",flexDirection:"column",justifyContent:"flex-start",height:"100%",width:"100%",children:Object(R.jsx)(d.a,{bgcolor:"rgba(255, 255, 255, 0.5)",children:e.users.map((function(n,c){return Object(R.jsxs)(d.a,{color:"white",padding:"5px 15px",display:"flex",gridGap:"15px",width:"100%",alignItems:"center",borderBottom:c!==e.users.length-1?"1px solid black":"",children:[Object(R.jsxs)(d.a,{position:"relative",children:[Object(R.jsxs)(d.a,{display:e.typingUsers[n.id]?"flex":"none",className:t.typingBubble,children:[Object(R.jsx)("div",{}),Object(R.jsx)("div",{}),Object(R.jsx)("div",{})]}),Object(R.jsx)("img",{className:t.cup,src:E[n.name].default,alt:""},n.name)]},n.id),Object(R.jsx)(O.a,{children:n.name})]},n.id)}))})})},pe=Object(j.a)((function(e){return{}})),he=function(e){var t=ce(e,"individual"),n=t.users,c=t.room,a=ae().typing,i=Object(b.a)(),s=(pe(),Object(l.a)(i.breakpoints.up("sm")));return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(H.a,{container:!0,width:"100%",height:"100%",display:"flex",spacing:2,justifyContent:"space-between",alignItems:"center",style:{padding:"30px 15px"},children:[Object(R.jsxs)(H.a,{justifyContent:"center",item:!0,style:{height:s?"80%":""},container:!0,xs:12,sm:4,alignItems:"flex-start",children:[Object(R.jsx)(ue.a,{xsDown:!0,children:Object(R.jsx)(d.a,{display:"flex",width:"100%",children:Object(R.jsx)(be,{typingUsers:a,users:n})})}),Object(R.jsx)(te,{typingUsers:a,users:n})]}),Object(R.jsx)(H.a,{container:!0,alignItems:s?"center":"flex-start",justifyContent:"center",style:{height:s?"80%":"100%"},item:!0,xs:12,sm:8,children:Object(R.jsx)(V,{room:c,currentUser:e.currentUser})})]})})},fe=n.p+"static/media/logo.76c5cc2c.png",xe=Object(j.a)((function(e){return{logo:{width:"100px",cursor:"pointer"}}})),ge=Object(g.h)((function(){var e=Object(g.f)(),t=xe();return Object(R.jsx)(d.a,{position:"absolute",top:"0",width:"100%",zIndex:"3",bgcolor:"#512905",padding:"5px 15px",children:Object(R.jsx)("img",{onClick:function(){e.push("/")},className:t.logo,src:fe,alt:""})})})),Oe=n.p+"static/media/background.23f7c3b9.png",me=Object(j.a)((function(e){return{container:{backgroundImage:"url(".concat(Oe,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"cover",height:"100vh"},buttonMain:{"& > *":{width:"100%",margin:e.spacing(1),backgroundColor:"rgb(186 167 156)"}},backDrop:{backgroundColor:"rgba(0,0,0,0.4)"}}})),ye=function(){var e=Object(b.a)(),t=Object(l.a)(e.breakpoints.up("sm")),n=Object(a.useState)(),c=Object(o.a)(n,2),i=c[0],s=c[1],r=Object(a.useState)(),j=Object(o.a)(r,2),O=j[0],m=j[1],y=function(e){s(e)},w=function(){s()},v=function(e){m(e)},k=me(),I=Object(p.a)({typography:{fontFamily:["Montserrat","sans-serif"].join(",")},typingBubble:{width:"25px",height:"10px",position:"absolute",right:"-4px",top:"-5px",background:"white",borderRadius:"14px",alignItems:"center",justifyContent:"center",gap:"2px","& > *":{background:"black",borderRadius:"50%",width:"4px",height:"4px"}}});return I=Object(h.a)(I),Object(a.useEffect)((function(){}),[]),Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(x.a,{children:Object(R.jsxs)(f.a,{theme:I,children:[Object(R.jsx)(ge,{}),Object(R.jsxs)(d.a,{paddingTop:"50.86px",display:"flex",alignItems:t?"center":"flex-start",justifyContent:"center",maxWidth:"100vw",overflow:"hidden",className:k.container,children:[Object(R.jsx)(d.a,{position:"fixed",width:"100vw",height:"100vh",className:k.backDrop}),Object(R.jsxs)(d.a,{justifyContent:"center",display:"flex",zIndex:"2",maxWidth:"1200px",width:"100%",height:"80%",children:[Object(R.jsx)(u.a,{}),Object(R.jsxs)(g.c,{children:[Object(R.jsx)(g.a,{exact:!0,path:"/",render:function(){return Object(R.jsx)(de,{clearUser:w,setChatType:v})}}),Object(R.jsx)(g.a,{path:"/chat/group",children:i?Object(R.jsx)(se,{setChatType:m,currentUser:i}):Object(R.jsx)(d.a,{display:"flex",justifyContent:"center",padding:"20px",width:"100%",children:Object(R.jsx)(_,{chatType:O,selectUser:y})})}),Object(R.jsx)(g.a,{path:"/chat/individual",children:i?Object(R.jsx)(he,{setChatType:m,currentUser:i}):Object(R.jsx)(d.a,{display:"flex",justifyContent:"center",padding:"20px",width:"100%",children:Object(R.jsx)(_,{chatType:O,selectUser:y})})})]})]})]})]})})})};r.a.render(Object(R.jsx)(i.a.StrictMode,{children:Object(R.jsx)(ye,{})}),document.getElementById("root"))}},[[192,1,2]]]);
//# sourceMappingURL=main.efd0afe1.chunk.js.map